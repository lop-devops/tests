include tests-shared.cfg

# Basic VM credentials and identification
username = root
password = 123456
main_vm = avocado-vt-vm1
vms = avocado-vt-vm1

#Network
nettype = bridge
netdst=virbr0

# Using Text mode of installation
display = 'nographic'

take_regular_screendumps = no
keep_screendumps_on_error = no
keep_screendumps = no
store_vm_register = no

# Binaries path
virt_install_binary = /usr/bin/virt-install
qemu_img_binary = /usr/bin/qemu-img
qemu_binary = /usr/bin/qemu-system-ppc64
emulator_path = /usr/bin/qemu-system-ppc64

# VM settings
use_os_variant=yes
hvm_or_pv = hvm
machine_type = pseries
only bridge
no xen, lxc, esx, ovmf

#Filterout unwanted disk types
no ide,xenblk,lsi_scsi,ahci,sd
no qed,qcow2v3,raw_dd,vmdk, usb2
no e1000-82540em,e1000-82545em,e1000-82544gc,xennet,nic_custom
only no_virtio_rng
only smp2
only no_9p_export
only no_pci_assignable
only (image_backend=filesystem)
only smallpages

# CPU and Memory
smp = 32
vcpu_cores = 32
vcpu_threads = 1
vcpu_sockets = 1
mem = 32768

# Test Variants
variants:
    - guest_import:
        only unattended_install.import.import.default_install.aio_native

    - guest_network:
        variants:
            - guest_network:
                only nwfilter_vm_start.possitive_test.new_filter.ip_learning.kill_libvirtd, nwfilter_vm_start.possitive_test.new_filter.chain_priority_greater_than_rule, nwfilter_vm_start.possitive_test.new_filter.dhcpserver_variable, nwfilter_vm_start.possitive_test.new_filter.disallow_ipv6, nwfilter_vm_start.possitive_test.new_filter.disallow_dhcp, nwfilter_vm_start.possitive_test.new_filter.disallow_arp, nwfilter_vm_start.possitive_test.new_filter.clean_traffic, nwfilter_vm_start.possitive_test.default_filter.no_mac_spoofing, nwfilter_vm_start.possitive_test.default_filter.no_mac_broadcast, nwfilter_vm_start.possitive_test.default_filter.no_ip_spoofing, nwfilter_vm_start.possitive_test.default_filter.no_arp_spoofing, nwfilter_vm_start.possitive_test.default_filter.allow_dhcp, nwfilter_vm_start.possitive_test.default_filter.allow_ipv4, nwfilter_vm_start.possitive_test.default_filter.allow_incoming_ipv4, nwfilter_vm_start.possitive_test.default_filter.allow_arp, nwfilter_vm_start.possitive_test.default_filter.clean_traffic_gateway, nwfilter_vm_start.possitive_test.default_filter.clean_traffic_with_params, nwfilter_vm_start.possitive_test.default_filter.clean_traffic_without_params, virsh.net_autostart.normal_test.autostart_no_reboot.netname, virsh.net_autostart.normal_test.autostart_no_reboot.netuuid, virsh.net_autostart.normal_test.set_disable.netname, virsh.net_autostart.normal_test.set_disable.netuuid, virsh.net_create.normal_test.file_as_option.default_config, virsh.net_create.normal_test.file_as_option.default_config_uuid, virsh.net_create.normal_test.file_as_option.new_network, virsh.net_dhcp_leases.positive_test.lease.default.host, virsh.net_dhcp_leases.positive_test.lease.default.range, virsh.net_edit.net_define.modify.unchangeable, virsh.net_edit.net_define.modify.readonly_test, virsh.net_edit.net_define.delete.unchangeable, virsh.net_edit.net_create.modify.changeable, virsh.net_edit.net_create.modify.unchangeable, virsh.net_edit.net_create.delete.changeable, virsh.net_edit.net_create.delete.unchangeable, virsh.net_list.normal_test.non_acl.combined.all_persistent, virsh.net_list.normal_test.non_acl.combined.all_noautostart, virsh.net_list.normal_test.non_acl.combined.persistent_inactive, virsh.net_list.normal_test.non_acl.combined.persistent_transient, virsh.net_list.normal_test.non_acl.combined.autostart_inactive, virsh.net_list.normal_test.non_acl.combined.noautostart_opt, virsh.nwfilter_define.update_exist_filter.non_acl.new_uuid, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.rom_bar_off, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.rom_enable_no_bar_off.hot, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.rom_enable_no_bar_off.cold, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.duplicate_target, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.duplicate_mac, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_config.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_config.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.current_cofig.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.current_cofig.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_persistent.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_persistent.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_current.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_current.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.current_persistent.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.current_persistent.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.config_persistent.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.config_persistent.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_config_persistent.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.live_config_persistent.inactive, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.options_test.check_mac.active, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.detach_match_test.by_alias_dup_mac, virtual_network.iface_hotplug.at_device.iface_attach.model_virtio.detach_match_test.by_dup_mac, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.duplicate_target, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.duplicate_mac, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_config.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_config.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.current_cofig.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.current_cofig.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_persistent.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_persistent.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_current.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_current.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.current_persistent.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.current_persistent.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.config_persistent.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.config_persistent.inactive, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_config_persistent.active, virtual_network.iface_hotplug.at_iface.iface_attach.model_virtio.options_test.live_config_persistent.inactive, virsh.attach_detach_interface_matrix.pre_vm_state_shutoff.at_option_config.dt_option_config.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_shutoff.at_option_config.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_shutoff.at_option_current.dt_option_config.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_shutoff.at_option_current.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live.dt_option_live.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live.dt_option_default.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_config.dt_option_config.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_current.dt_option_live.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_current.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_current.dt_option_default.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_default.dt_option_live.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_default.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_default.dt_option_default.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live_config.dt_option_live.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live_config.dt_option_config.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live_config.dt_option_current.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live_config.dt_option_default.at_okay_dt_okay, virsh.attach_detach_interface_matrix.pre_vm_state_paused.at_option_live_config.dt_option_live_config.at_okay_dt_okay, virsh.net_start.normal_test.stop_start_firewalld.valid_netname, virsh.net_start.route_test, virsh.domif_setlink_getlink.positive_test.virtio.interface_net.no_config.domain_name.running_guest.domif_setlink.stable_test.setlink_up.restart_libvirtd, virsh.domif_setlink_getlink.positive_test.virtio.interface_net.no_config.domain_name.running_guest.domif_setlink.stable_test.setlink_down.restart_libvirtd, virsh.domif_setlink_getlink.positive_test.virtio.interface_mac.no_config.domain_name.running_guest.domif_setlink.stable_test.setlink_up.save_restore, virsh.domif_setlink_getlink.positive_test.virtio.interface_mac.no_config.domain_name.running_guest.domif_setlink.stable_test.setlink_down.save_restore, virsh.domif_setlink_getlink.multi_functional_test.virtio.check_update_device, virsh.domif_setlink_getlink.multi_functional_test.virtio.check_options_config, virtual_network.iface_network.dnsmasq_test.disable_dhcp, virtual_network.iface_network.dnsmasq_test.disable_dns_dhcp, virtual_network.iface_network.net_guest, virtual_network.iface_network.net_macvtap.net_bridge.exist_macvtap, virtual_network.iface_options.iface_macvtap.default.driver_vhost.mode_vepa, virtual_network.iface_options.iface_macvtap.default.driver_qemu.mode_vepa, virtual_network.iface_options.iface_macvtap.multiqueue.driver_vhost.mode_vepa, virsh.attach_detach_interface.normal_test.vm_running.direct.default.domname, virsh.attach_detach_interface.normal_test.vm_running.direct.default.domid, virsh.attach_detach_interface.normal_test.vm_running.direct.default.domuuid

    - guest_remove:
        only remove_guest.without_disk
