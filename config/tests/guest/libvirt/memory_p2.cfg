include tests-shared.cfg
username = root
password = 123456
main_vm = avocado-vt-vm1
vms = avocado-vt-vm1
#Network
nettype = bridge
netdst=virbr0
# Using Text mode of installation
display = 'nographic'
take_regular_screendumps = no
keep_screendumps_on_error = no
keep_screendumps = no
store_vm_register = no
virt_install_binary = /usr/bin/virt-install
qemu_img_binary = /usr/bin/qemu-img
qemu_binary = /usr/bin/qemu-system-ppc64
emulator_path = /usr/bin/qemu-system-ppc64
use_os_variant=yes
hvm_or_pv = hvm
machine_type = pseries
only bridge
no xen, lxc, esx, ovmf
#Filterout unwanted disk types
no ide,xenblk,lsi_scsi,ahci,sd
no qed,qcow2v3,raw_dd,vmdk, usb2
no e1000-82540em,e1000-82545em,e1000-82544gc,xennet,nic_custom
only no_virtio_rng
only smp2
only no_9p_export
only no_pci_assignable
only (image_backend=filesystem)
only smallpages
smp = 32
vcpu = 32
vcpu_cores = 32
vcpu_threads = 1
vcpu_sockets = 1
align_mem_values = "yes"

variants:
    - guest_import_32G:
        #Guest with 32G Memory
        mem = 32768
        only unattended_install.import.import.default_install.aio_native
        
    - guest_memguest_numa:
        only guest_numa.possitive_test.no_hugepage.mem_backend.topology.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.no_hugepage.mem_backend.topology.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.no_hugepage.mem_backend.topology.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.no_hugepage.mem_backend.no_topo.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.topology.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.per_node.2M.no_topo.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.topology.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.per_node.1G.no_topo.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.host_total.topology.numatune_memnode.m_interleave.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_strict.numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_strict.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_preferred.numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_preferred.no_numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_interleave.numatune_mem,guest_numa.possitive_test.hugepage.host_total.no_topo.numatune_memnode.m_interleave.no_numatune_mem

    - guest_numa_memory:
        only numa_memory.possitive_test.no_vcpu.mem_nodeset.node2.strict,numa_memory.possitive_test.no_vcpu.mem_nodeset.node2.interleave,numa_memory.possitive_test.vcpu.vcpu_auto.mem_nodeset.node2.strict,numa_memory.possitive_test.vcpu.vcpu_auto.mem_nodeset.node2.interleave,numa_memory.possitive_test.vcpu.vcpu_static.mem_nodeset.node2.strict,numa_memory.possitive_test.vcpu.vcpu_static.mem_nodeset.node2.interleave

    - guest_remove_32G:
        only remove_guest.without_disk
        
    - guest_import_4G:
        #Guest with 4G Memory
        mem = 4096
        only unattended_install.import.import.default_install.aio_native
        
    - guest_memhotplug:
        only libvirt_mem.positive_test.align_256m.cold_plug
        no libvirt_mem.positive_test.mem_basic.default,libvirt_mem.positive_test.memory.cold.unplug.max_slots.without_reboot,libvirt_mem.positive_test.memory.cold.unplug.max_slots.with_rand_reboot,libvirt_mem.positive_test.memory.cold.detach_device_alias.default,libvirt_mem.positive_test.align_256m.hot_plug
        
    - guest_setmem:
        only virsh.setmem.valid_options.inactive.half_mem.domname.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.half_mem.domname.dom_opt_size_opt.cmd_flag_config,virsh.setmem.valid_options.inactive.half_mem.domname.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.half_mem.domuuid.dom_arg_size_arg.cmd_flag_config,virsh.setmem.valid_options.inactive.half_mem.domuuid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.half_mem.domuuid.dom_opt_size_opt.cmd_flag_config,virsh.setmem.valid_options.inactive.half_mem.domuuid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.same_mem.domname.dom_arg_size_arg.cmd_flag_config,virsh.setmem.valid_options.inactive.same_mem.domname.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.same_mem.domname.dom_opt_size_opt.cmd_flag_config,virsh.setmem.valid_options.inactive.same_mem.domname.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.same_mem.domuuid.dom_arg_size_arg.cmd_flag_config,virsh.setmem.valid_options.inactive.same_mem.domuuid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.inactive.same_mem.domuuid.dom_opt_size_opt.cmd_flag_config,virsh.setmem.valid_options.inactive.same_mem.domuuid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domid.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domid.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domname.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domname.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domname.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domname.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domuuid.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domuuid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.half_mem.domuuid.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.half_mem.domuuid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domid.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domid.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domname.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domname.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domname.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domname.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domuuid.dom_arg_size_arg.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domuuid.dom_arg_size_arg.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.valid_options.paused.same_mem.domuuid.dom_opt_size_opt.no_cmd_flag,virsh.setmem.valid_options.paused.same_mem.domuuid.dom_opt_size_opt.cmd_flag_current.manipulate_action.none.no_action,virsh.setmem.memballoon_option.remove_driver,virsh.setmem.memballoon_option.with_packed_on

    - guest_setmaxmem:
        only virsh.setmaxmem.normal_test.no_option.half_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.no_option.half_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.no_option.half_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.no_option.half_mem.domuuid.dom_opt_size_opt,virsh.setmaxmem.normal_test.no_option.same_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.no_option.same_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.no_option.same_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.no_option.same_mem.domuuid.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.running.half_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.running.half_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.running.half_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.running.half_mem.domuuid.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.running.same_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.running.same_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.running.same_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.running.same_mem.domuuid.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.shutoff.half_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.shutoff.half_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.shutoff.half_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.shutoff.half_mem.domuuid.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.shutoff.same_mem.domname.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.shutoff.same_mem.domname.dom_opt_size_opt,virsh.setmaxmem.normal_test.config.shutoff.same_mem.domuuid.dom_arg_size_arg,virsh.setmaxmem.normal_test.config.shutoff.same_mem.domuuid.dom_opt_size_opt

    - guest_dommemstat:
        only virsh.dommemstat.normal_test.id_option,virsh.dommemstat.normal_test.name_option,virsh.dommemstat.normal_test.uuid_option

    - guest_libvirt_hooks:
        only libvirt_hooks.vm.daemon_t.exit_0,libvirt_hooks.vm.daemon_t.exit_1
        no libvirt_hooks.vm.network_t,libvirt_hooks.vm.save_restore.domainxml_test,libvirt_hooks.vm.managedsave_t.domainxml_test
        
    - guest_hugepage:
        only libvirt_hugepage.normal.with_mb.trans_enable.static_zero.umount_hugetlbfs,libvirt_hugepage.normal.with_mb.trans_disable.static_nonzero.umount_hugetlbfs,libvirt_hugepage.normal.with_mb.trans_disable.static_zero.umount_hugetlbfs
        no libvirt_hugepage.normal.with_mb.trans_disable.static_nonzero.mount_hugetlbfs,libvirt_hugepage.stress.with_mb.trans_disable.static_nonzero.mount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_enable.static_nonzero.mount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_enable.static_nonzero.umount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_enable.static_zero.mount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_enable.static_zero.umount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_disable.static_nonzero.mount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_disable.static_nonzero.umount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_disable.static_zero.mount_hugetlbfs,libvirt_hugepage.normal.without_mb.trans_disable.static_zero.umount_hugetlbfs
        
    - guest_remove_4G:
        only remove_guest.without_disk
