include tests-shared.cfg
username = root
password = Aform@fvt
main_vm = avocado-vt-vm1
vms = avocado-vt-vm1
nettype = bridge
netdst=virbr0
display = 'nographic'
take_regular_screendumps = no
keep_screendumps_on_error = no
keep_screendumps = no
store_vm_register = no
virt_install_binary = /usr/bin/virt-install
qemu_img_binary = /usr/bin/qemu-img
qemu_binary = /usr/bin/qemu-system-ppc64
emulator_path = /usr/bin/qemu-system-ppc64
use_os_variant=yes
hvm_or_pv = hvm
machine_type = pseries
only bridge
no xen, lxc, esx, ovmf
# Filterout unwanted disk types
no ide,xenblk,lsi_scsi,ahci,sd
no qed,qcow2v3,raw_dd,vmdk, usb2
no e1000-82540em,e1000-82545em,e1000-82544gc,xennet,nic_custom
only no_virtio_rng
only smp2
only no_9p_export
only no_pci_assignable
only (image_backend=filesystem)
only smallpages
smp = 32
vcpu_cores = 32
vcpu_threads = 1
vcpu_sockets = 1
# 32G
mem = 32768
setvcpus_max = 32

variants:
    - guest_import:
        only unattended_install.import.import.default_install.aio_native

    - guest_cpu:
        variants:
            - cpubasline:
                only virsh.cpu_baseline.positive_test.default_test, virsh.cpu_baseline.positive_test.config_guest
            - vcpuinfo:
                only virsh.vcpuinfo.normal_test.id_option, virsh.vcpuinfo.normal_test.shutoff_option, virsh.vcpuinfo.normal_test.paused_option
            - vcpupin:
                only virsh.maxvcpus.connect_to_local.with_option.with_qemu, virsh.maxvcpus.connect_to_local.with_option.with_qemu1, virsh.maxvcpus.connect_to_local.with_option.with_kvm, virsh.maxvcpus.connect_to_local.with_option.with_kvm1
		no numad_vcpupin.default
            - maxvcpus:
                only virsh.maxvcpus.connect_to_local.with_option.with_qemu, virsh.maxvcpus.connect_to_local.with_option.with_qemu1, virsh.maxvcpus.connect_to_local.with_option.with_kvm, virsh.maxvcpus.connect_to_local.with_option.with_kvm1
            #- nodecpumap:
                #no virsh.nodecpumap.no_option
		#no virsh.nodecpumap.pretty_option
	    #- qemu_conf:
	  	#no libvirt.conf_file.qemu_conf.clear_emulator_capabilities.positive_test.default
  		#no libvirt.conf_file.qemu_conf.clear_emulator_capabilities.positive_test.clear_caps
  		#no libvirt.conf_file.qemu_conf.clear_emulator_capabilities.positive_test.no_clear_caps.priviledge_user
  		#no libvirt.conf_file.qemu_conf.clear_emulator_capabilities.positive_test.no_clear_caps.default_user
  		#no libvirt.conf_file.qemu_conf.clear_emulator_capabilities.negative_test.invalid
            - setvcpus:
                only virsh.setvcpus.normal_test.guest_on.id_option.option_live.add, virsh.setvcpus.normal_test.guest_on.id_option.option_live.del, virsh.setvcpus.normal_test.guest_on.id_option.option_config.add, virsh.setvcpus.normal_test.guest_on.id_option.option_config.del, virsh.setvcpus.normal_test.guest_on.id_option.option_config_live.add, virsh.setvcpus.normal_test.guest_on.id_option.option_config_live.del, virsh.setvcpus.normal_test.guest_on.id_option.option_current.add, virsh.setvcpus.normal_test.guest_on.id_option.option_current.del, virsh.setvcpus.normal_test.guest_on.name_option.add, virsh.setvcpus.normal_test.guest_on.name_option.del, virsh.setvcpus.normal_test.guest_on.name_option.default.restart_vm.update_cur, virsh.setvcpus.normal_test.guest_on.name_option.default.restart_vm.update_max, virsh.setvcpus.normal_test.guest_on.pause_option.add, virsh.setvcpus.normal_test.guest_on.pause_option.del, virsh.setvcpus.normal_test.guest_on.uuid_option.add, virsh.setvcpus.normal_test.guest_on.uuid_option.del, virsh.setvcpus.normal_test.guest_off.option_config, virsh.setvcpus.normal_test.guest_off.option_uuid_config, virsh.setvcpus.normal_test.guest_off.option_current
            - timermanagement:
                only qemu.clock_getres
		no virsh.domtime.positive.get_time
		no virsh.domtime.positive.with_pretty 
		no virsh.domtime.positive.set_time
		no virsh.domtime.positive.set_time_max_1
		no virsh.domtime.positive.set_time_max_2
		no virsh.domtime.positive.set_time_max_3
		no virsh.domtime.positive.suspend_vm
		no virsh.domtime.positive.set_time_now
            - hotpluggable:
                only vcpu_hotpluggable.positive_test.vcpus_with_order, vcpu_hotpluggable.positive_test.enable, vcpu_hotpluggable.positive_test.disable, vcpu_hotpluggable.positive_test.unplug.live, vcpu_hotpluggable.positive_test.unplug.config.running_vm, vcpu_hotpluggable.positive_test.unplug.config.shutoff_vm, vcpu_hotpluggable.positive_test.plug.live, vcpu_hotpluggable.positive_test.plug.config.running_vm, vcpu_hotpluggable.positive_test.plug.config.shutoff_vm
	    #- vcpu_affinity:
 		#no vcpu_affinity.positive_test.vcpu
		#no vcpu_affinity.positive_test.vcpu_placement.static
		#no vcpu_affinity.positive_test.cputune.vcpu_affinity_xml
		#no vcpu_affinity.positive_test.cputune.vcpu_affinity_active
		#no vcpu_affinity.positive_test.cputune.vcpu_affinity_config
		#no vcpu_affinity.positive_test.cputune.vcpu_maxvcpu_minus
		#no vcpu_affinity.positive_test.cputune.vcpu_maxvcpu
		#no vcpu_affinity.positive_test.cputune.vcpu_maxvcpu_plus
		#no vcpu_affinity.positive_test.vcpu_placement.auto
		#no vcpu_affinity.positive_test.cputune.offline_hostcpu
	    #- vcpu_metrics:
	        #no virsh.vcpu_metrics.normal_test.with_unprivileged_user	
            - cpumode:
                only ppc_cpu_mode.positive_test.host_passthru.match.none.no_model
		no libvirt.ppc_cpu_mode.positive_test.host_model.match.none.no_model
	    #- max_vcpus:
		#no max_vcpus.virsh_capabilities
		#no virsh.maxvcpus.connect_to_local.with_option.with_kqemu
		#no virsh.maxvcpus.connect_to_local.with_option.with_kqemu1
	    - schedinfo:
		only virsh.schedinfo_qemu_posix.error_test.set_emulator_param.set_emulator_period.value_higher_than_max, virsh.schedinfo_qemu_posix.error_test.set_emulator_param.set_emulator_quota.value_higher_than_max
    - guest_remove:
        only remove_guest.without_disk
